const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/DtkoMCPr.js","../chunks/CXZLwJAa.js","../chunks/CGQjkcmT.js"])))=>i.map(i=>d[i]);
var Ee=Object.defineProperty;var we=(a,e,r)=>e in a?Ee(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;var U=(a,e,r)=>we(a,typeof e!="symbol"?e+"":e,r);import{t as R,a as j}from"../chunks/Dutc1vky.js";import{A as V,B as q,D as xe,F as ee,as as Ce,o as fe,x as A,P as ve,at as ke,a9 as ne,au as O,a7 as B,a1 as ae,q as z,ai as Ae,y as L,av as te,c as Me,af as F,Z as G,a0 as Te,G as Ie,L as Z,M as De,g as C,al as Pe,ad as Se,ae as se,K,Q as Le,aw as W,U as _e,ax as Ne,ay as je,T as ze,az as Re,w as Ue,aA as He,aB as Oe,J as Ge,C as Ve,aC as qe,aD as Be,ac as Fe,aE as Ye,b as Je,ah as Ze,p as pe,m as P,n as T,k as me,aF as Ke,_ as re,j as We,a2 as oe,t as ie,aG as $e,s as S}from"../chunks/CGQjkcmT.js";import{d as Qe,a as Xe,s as ea}from"../chunks/Ffb8jNZ3.js";import{p as le,b as aa,_ as N,a as ra,i as na}from"../chunks/CXZLwJAa.js";import{i as ta}from"../chunks/P2AXdsTY.js";import{o as sa,a as oa,b as ia}from"../chunks/BtmFJWST.js";let ce=!1;function he(){ce||(ce=!0,document.addEventListener("reset",a=>{Promise.resolve().then(()=>{var e;if(!a.defaultPrevented)for(const r of a.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function la(a){var e=xe,r=ee;V(null),q(null);try{return a()}finally{V(e),q(r)}}function ca(a,e,r,s=r){a.addEventListener(e,()=>la(r));const u=a.__on_r;u?a.__on_r=()=>{u(),s(!0)}:a.__on_r=()=>s(!0),he()}const $=0,H=1,Q=2;function ua(a,e,r,s,u){A&&ve();var l=a,p=Ce(),f=Me,v=ne,_,t,g,o=(p?B:ae)(void 0),h=(p?B:ae)(void 0),d=!1;function y(n,c){d=!0,c&&(q(m),V(m),te(f));try{n===$&&r&&(_?F(_):_=z(()=>r(l))),n===H&&s&&(t?F(t):t=z(()=>s(l,o))),n!==$&&_&&G(_,()=>_=null),n!==H&&t&&G(t,()=>t=null),n!==Q&&g&&G(g,()=>g=null)}finally{c&&(te(null),V(null),q(null),Te())}}var m=fe(()=>{if(v!==(v=e())){if(ke(v)){var n=v;d=!1,n.then(c=>{n===v&&(O(o,c),y(H,!0))},c=>{if(n===v)throw O(h,c),y(Q,!0),h.v}),A?r&&(_=z(()=>r(l))):Ae(()=>{d||y($,!0)})}else O(o,v),y(H,!1);return()=>v=ne}});A&&(l=L)}function da(a,e){return e}function fa(a,e,r,s){for(var u=[],l=e.length,p=0;p<l;p++)je(e[p].e,u,!0);var f=l>0&&u.length===0&&r!==null;if(f){var v=r.parentNode;ze(v),v.append(r),s.clear(),I(a,e[0].prev,e[l-1].next)}Re(u,()=>{for(var _=0;_<l;_++){var t=e[_];f||(s.delete(t.k),I(a,t.prev,t.next)),Ue(t.e,!f)}})}function va(a,e,r,s,u,l=null){var p=a,f={flags:e,items:new Map,first:null};{var v=a;p=A?Z(De(v)):v.appendChild(Ie())}A&&ve();var _=null,t=!1,g=Pe(()=>{var o=r();return Ve(o)?o:o==null?[]:_e(o)});fe(()=>{var o=C(g),h=o.length;if(t&&h===0)return;t=h===0;let d=!1;if(A){var y=p.data===Se;y!==(h===0)&&(p=se(),Z(p),K(!1),d=!0)}if(A){for(var m=null,n,c=0;c<h;c++){if(L.nodeType===8&&L.data===Le){p=L,d=!0,K(!1);break}var E=o[c],k=s(E,c);n=ge(L,f,m,null,E,k,c,u,e,r),f.items.set(k,n),m=n}h>0&&Z(se())}A||_a(o,f,p,u,e,s,r),l!==null&&(h===0?_?F(_):_=z(()=>l(p)):_!==null&&G(_,()=>{_=null})),d&&K(!0),C(g)}),A&&(p=L)}function _a(a,e,r,s,u,l,p){var f=a.length,v=e.items,_=e.first,t=_,g,o=null,h=[],d=[],y,m,n,c;for(c=0;c<f;c+=1){if(y=a[c],m=l(y,c),n=v.get(m),n===void 0){var E=t?t.e.nodes_start:r;o=ge(E,e,o,o===null?e.first:o.next,y,m,c,s,u,p),v.set(m,o),h=[],d=[],t=o.next;continue}if(pa(n,y,c),(n.e.f&W)!==0&&F(n.e),n!==t){if(g!==void 0&&g.has(n)){if(h.length<d.length){var k=d[0],i;o=k.prev;var b=h[0],w=h[h.length-1];for(i=0;i<h.length;i+=1)ue(h[i],k,r);for(i=0;i<d.length;i+=1)g.delete(d[i]);I(e,b.prev,w.next),I(e,o,b),I(e,w,k),t=k,o=w,c-=1,h=[],d=[]}else g.delete(n),ue(n,t,r),I(e,n.prev,n.next),I(e,n,o===null?e.first:o.next),I(e,o,n),o=n;continue}for(h=[],d=[];t!==null&&t.k!==m;)(t.e.f&W)===0&&(g??(g=new Set)).add(t),d.push(t),t=t.next;if(t===null)continue;n=t}h.push(n),o=n,t=n.next}if(t!==null||g!==void 0){for(var D=g===void 0?[]:_e(g);t!==null;)(t.e.f&W)===0&&D.push(t),t=t.next;var J=D.length;if(J>0){var ye=f===0?r:null;fa(e,D,ye,v)}}ee.first=e.first&&e.first.e,ee.last=o&&o.e}function pa(a,e,r,s){O(a.v,e),a.i=r}function ge(a,e,r,s,u,l,p,f,v,_){var t=(v&He)!==0,g=(v&Oe)===0,o=t?g?ae(u):B(u):u,h=(v&Ne)===0?p:B(p),d={i:h,v:o,k:l,a:null,e:null,prev:r,next:s};try{return d.e=z(()=>f(a,o,h,_),A),d.e.prev=r&&r.e,d.e.next=s&&s.e,r===null?e.first=d:(r.next=d,r.e.next=d.e),s!==null&&(s.prev=d,s.e.prev=d.e),d}finally{}}function ue(a,e,r){for(var s=a.next?a.next.e.nodes_start:r,u=e?e.e.nodes_start:r,l=a.e.nodes_start;l!==s;){var p=Ge(l);u.before(l),l=p}}function I(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function ma(a){if(A){var e=!1,r=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var s=a.value;Y(a,"value",null),a.value=s}if(a.hasAttribute("checked")){var u=a.checked;Y(a,"checked",null),a.checked=u}}};a.__on_r=r,qe(r),he()}}function Y(a,e,r,s){var u=a.__attributes??(a.__attributes={});A&&(u[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||u[e]!==(u[e]=r)&&(e==="style"&&"__styles"in a&&(a.__styles={}),e==="loading"&&(a[Be]=r),r==null?a.removeAttribute(e):typeof r!="string"&&ha(a).includes(e)?a[e]=r:a.setAttribute(e,r))}var de=new Map;function ha(a){var e=de.get(a.nodeName);if(e)return e;de.set(a.nodeName,e=[]);for(var r,s=a,u=Element.prototype;u!==s;){r=Ye(s);for(var l in r)r[l].set&&e.push(l);s=Fe(s)}return e}function ga(a,e,r=e){ca(a,"change",s=>{var u=s?a.defaultChecked:a.checked;r(u)}),(A&&a.defaultChecked!==a.checked||Je(e)==null)&&r(a.checked),Ze(()=>{var s=e();a.checked=!!s})}const ba=!0,za=Object.freeze(Object.defineProperty({__proto__:null,prerender:ba},Symbol.toStringTag,{value:"Module"}));class x{constructor(e,r,s){U(this,"name","Ubicación");U(this,"geo",[0,0]);U(this,"url","");this.name=e,this.geo=r,this.url=s||""}}const ya={CasaMigrante:new x("Casa del Migrante en Tijuana, AC",[32.522813,-117.001688]),MadreAsunta:new x("Instituto Madre Asunta, AC",[32.523438,-117.001437]),PuertaEsperanza:new x("Ejército de Salvación | Casa Puerta de Esperanza",[32.543563,-117.006563]),AlbergueEmigrantes:new x("Ejército de Salvación | Albergue para Emigrantes",[32.535313,-117.012438]),YMCAMenores:new x("Casas YMCA de Menores Migrantes",[32.513813,-117.021563]),EspacioMigrante:new x("Espacio Migrante",[32.538313,-117.034312]),JardinMariposas:new x("Jardín de las Mariposas",[32.520063,-117.064063]),PadreChava:new x('Desayunador Salesiano "Padre Chava"',[32.536812,-117.032187]),ConsuladoElSalvador:new x("Consulado de la República de El Salvador en Tijuana",[32.521687,-117.013437]),ConsuladoHonduras:new x("Consulado General de Honduras en Tijuana",[32.520313,-117.012687]),ConsuladoGuatemala:new x("Consulado General de Guatemala en Tijuana",[32.524812,-117.014188]),ConsuladoEstadosUnidos:new x("Consulado General de los Estados Unidos en Tijuana",[32.523313,-116.952438],"https://mx.usembassy.gov/es/visas-es/u-s-embassy-mexico-city-es/u-s-consulate-general-tijuana-es/"),CEDH:new x("Comisión Estatal de los Derechos Humanos de Baja California en Tijuana",[32.504438,-116.951188]),CNDH:new x("Comisión Nacional de los Derechos Humanos, Sede Regional Tijuana",[32.521687,-117.008562])},be={housing:["CasaMigrante","MadreAsunta","PuertaEsperanza","AlbergueEmigrantes","YMCAMenores","EspacioMigrante","JardinMariposas"],feeding:["PadreChava"],consulate:["ConsuladoElSalvador","ConsuladoHonduras","ConsuladoGuatemala","ConsuladoEstadosUnidos"],humanRights:["CEDH","CNDH"]},M="/migrant-aid-map";var Ea=R('<main class="svelte-1wmcw9n"><div class="z-0 svelte-1wmcw9n"></div></main>');function wa(a,e){pe(e,!1);const r=[32.522499,-117.046623];let s=le(e,"markers",24,()=>[]),u=le(e,"m_id",24,()=>[]),l,p=Ke(),f,v,_,t={},g,o={};for(const[i,b]of Object.entries(be))b.forEach(w=>{o[w]=i});async function h(){const i=await N(()=>import("../chunks/r9KgTLRM.js").then(w=>w.l),[],import.meta.url),{Geolocation:b}=await N(async()=>{const{Geolocation:w}=await import("../chunks/DtkoMCPr.js").then(D=>D.i);return{Geolocation:w}},__vite__mapDeps([0,1,2]),import.meta.url);await d(),f=i.map(C(p),{center:r,zoom:12,maxBounds:[[32.532838,-117.134573],[32.571187,-116.688688],[32.184594,-116.683403],[32.280616,-116.524034]],maxBoundsViscosity:1}),i.tileLayer(M+"/tiles/{z}/{x}/{y}.png",{maxZoom:15,minZoom:12,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',errorTileUrl:M+"/tiles/miss.png"}).addTo(f),_||(_=i.icon({iconUrl:M+"/house.png",iconSize:[30,30]})),t={housing:i.icon({iconUrl:M+"/house.png",iconSize:[30,30]}),feeding:i.icon({iconUrl:M+"/food.png",iconSize:[30,30]}),consulate:i.icon({iconUrl:M+"/consulate.png",iconSize:[30,30]}),humanRights:i.icon({iconUrl:M+"/rights.png",iconSize:[30,30]})},v||(v=i.icon({iconUrl:M+"/dot.png",iconSize:[50,50]})),await y(),g=await b.watchPosition({},n)}async function d(){if(g){const{Geolocation:i}=await N(async()=>{const{Geolocation:b}=await import("../chunks/DtkoMCPr.js").then(w=>w.i);return{Geolocation:b}},__vite__mapDeps([0,1,2]),import.meta.url);i.clearWatch({id:g})}f&&(f.removeLayer(l),f.remove()),l=void 0,v=void 0,g=void 0}async function y(){if(f){const i=await N(()=>import("../chunks/r9KgTLRM.js").then(b=>b.l),[],import.meta.url);s().forEach(b=>{const w=o[b.key],D=t[w]||t.housing,J=i.marker(b.geo,{icon:D}).addTo(f).bindPopup(b.name+(b.url&&b.url.length>0?"<br><a href="+b.url+">Más información</a>":""));u().push(J)})}}function m(){f&&u().forEach(i=>{f.removeLayer(i)})}async function n(i){!f||!i||(l?(console.log("Updated position to "+i.coords.latitude+","+i.coords.longitude),l.setLatLng([i.coords.latitude,i.coords.longitude])):(l=(await N(()=>import("../chunks/r9KgTLRM.js").then(w=>w.l),[],import.meta.url)).marker([i.coords.latitude,i.coords.longitude],{icon:v}).addTo(f),l.bindPopup("Ubicación actual"),f.setView([i.coords.latitude,i.coords.longitude],13)))}async function c(){m(),await y()}sa(h),oa(c),ia(d),ta();var E=Ea(),k=P(E);aa(k,i=>re(p,i),()=>C(p)),T(E),j(a,E),me()}function X(a,e){re(e,!C(e)),console.log("Cambiado")}var xa=R("<div>Cargando ...</div>"),Ca=(a,e)=>{re(e,!C(e))},ka=R('<div class="flex items-center"><input type="checkbox" class="form-checkbox h-5 w-5 text-blue-500 border-none focus:ring-transparent focus:ring-offset-0 bg-gray-50 rounded-xs"> <label class="ml-2 pb-0.5 text-sm hover:cursor-pointer"> </label></div>'),Aa=a=>a.stopPropagation(),Ma=R(`<div class="fixed inset-0 flex justify-center items-center z-[1000]" style="background-color: rgba(0,0,0,0.5)"><div class="bg-white rounded-xl p-6 w-11/12 max-w-md shadow-lg"><h2 class="text-xl font-bold mb-4">Acerca del proyecto</h2> <p class="text-gray-800 text-justify space-y-">Este proyecto nació al observar una necesidad urgente en las calles de Tijuana: personas migrantes buscando ayuda, orientación y un lugar seguro. 
                A partir de las necesidades observadas en Tijuana, surgió la idea de crear un mapa que no solo muestre ubicaciones, sino que muestre esfuerzos colectivos de la comunidad y conecte a las personas. <br> Esta herramienta ha sido construida con un enfoque comunitario, escuchando a quienes están migrando y colaborando con quienes ofrecen apoyo. 
                Es un gesto de solidaridad digital, hecho para acompañar, guiar y recordar que nadie camina solo. <br> <br></p> <div class="mt-4 text-sm text-gray-700 leading-relaxed"><strong>Referencias:</strong><br> OIM. (2024). Seguimiento de flujos de población migrante. <a href="https://mexico.iom.int/sites/g/files/tmzbdl1686/files/documents/2024-05/dtm-q1-2024-tijuana.pdf" class="text-blue-600 underline" target="_blank">Ver PDF</a><br> OIM. (2023). Directorio de servicios gratuitos para personas migrantes, refugiadas, desplazadas y retornadas en Tijuana. <a href="https://mexico.iom.int/sites/g/files/tmzbdl1686/files/documents/2023-12/ficha-de-servicios_tijuana_2023.10oim_acnur.pdf" class="text-blue-600 underline" target="_blank">Ver PDF</a><br> OIM. (2023). Mapa de servicios para personas refugiadas y migrantes en Tijuana. <a href="https://help.unhcr.org/wp-content/uploads/sites/22/pdf/MapaTijuana.pdf" class="text-blue-600 underline" target="_blank">Ver PDF</a></div> <button class="mt-6 bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700">Cerrar</button></div></div>`),Ta=R('<!> <div class="absolute bottom-6 right-4 min-w-2xs rounded-xl px-2 py-2 bg-gray-200 shadow-md"><button class="w-full cursor-pointer"><p class="text-center align-middle">Filtros</p></button> <div class="w-7/8 mx-auto mt-2 mb-1 space-y-0.5"></div></div> <div class="absolute top-4 right-4 z-[1000] pointer-events-auto"><button class="rounded-full bg-white shadow-md p-2 text-xl" aria-label="Acerca del proyecto">ℹ️</button></div> <!>',1);function Ra(a,e){pe(e,!0);const r=ra({housing:!0,feeding:!0,consulate:!0,humanRights:!0});let s=oe(!1);const u={housing:"Albergues",feeding:"Alimentación",consulate:"Consulados",humanRights:"Derechos Humanos"};let l=oe(!1);async function p(){let m={};for(let n in r)r[n]&&be[n].forEach(c=>{m[c]||(m[c]={...ya[c],key:c})});return Object.values(m)}var f=Ta();Xe(m=>{$e.title="Servicio de apoyo migrante"});var v=We(f);ua(v,p,m=>{var n=xa();j(m,n)},(m,n)=>{wa(m,{get markers(){return C(n)}})});var _=S(v,2),t=P(_);t.__click=[Ca,s];var g=S(t,2);va(g,21,()=>Object.keys(r),da,(m,n)=>{var c=ka(),E=P(c);ma(E);var k=S(E,2),i=P(k,!0);T(k),T(c),ie(()=>{Y(E,"id",C(n)),Y(k,"for",C(n)),ea(i,u[C(n)])}),ga(E,()=>r[C(n)],b=>r[C(n)]=b),j(m,c)}),T(g),T(_);var o=S(_,2),h=P(o);h.__click=[X,l],T(o);var d=S(o,2);{var y=m=>{var n=Ma();n.__click=[X,l];var c=P(n);c.__click=[Aa];var E=S(P(c),6);E.__click=[X,l],T(c),T(n),j(m,n)};na(d,m=>{C(l)&&m(y)})}ie(()=>g.hidden=!C(s)),j(a,f),me()}Qe(["click"]);export{Ra as component,za as universal};
