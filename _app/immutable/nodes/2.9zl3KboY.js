const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/DtkoMCPr.js","../chunks/CXZLwJAa.js","../chunks/CGQjkcmT.js"])))=>i.map(i=>d[i]);
var ye=Object.defineProperty;var Ee=(a,e,r)=>e in a?ye(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;var Y=(a,e,r)=>Ee(a,typeof e!="symbol"?e+"":e,r);import{t as R,a as N}from"../chunks/Dutc1vky.js";import{A as H,B as G,D as we,F as X,as as xe,o as de,x as A,P as fe,at as Ce,a9 as re,au as O,a7 as V,a1 as ee,q as z,ai as ke,y as S,av as ne,c as Ae,af as q,Z as U,a0 as Me,G as Te,L as J,M as Ie,g as C,al as De,ad as Pe,ae as te,K as Z,Q as Se,aw as K,U as ve,ax as Le,ay as Ne,T as ze,az as Re,w as je,aA as Oe,aB as Ue,J as He,C as Ge,aC as Ve,aD as qe,ac as Be,aE as Fe,b as Ye,ah as Je,p as _e,m as D,n as M,k as pe,aF as Ze,_ as ae,j as Ke,a2 as se,t as oe,aG as We,s as P}from"../chunks/CGQjkcmT.js";import{d as $e,a as Qe,s as Xe}from"../chunks/Ffb8jNZ3.js";import{p as ie,b as ea,_ as L,a as aa,i as ra}from"../chunks/CXZLwJAa.js";import{i as na}from"../chunks/P2AXdsTY.js";import{o as ta,a as sa,b as oa}from"../chunks/BtmFJWST.js";let le=!1;function me(){le||(le=!0,document.addEventListener("reset",a=>{Promise.resolve().then(()=>{var e;if(!a.defaultPrevented)for(const r of a.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function ia(a){var e=we,r=X;H(null),G(null);try{return a()}finally{H(e),G(r)}}function la(a,e,r,s=r){a.addEventListener(e,()=>ia(r));const u=a.__on_r;u?a.__on_r=()=>{u(),s(!0)}:a.__on_r=()=>s(!0),me()}const W=0,j=1,$=2;function ca(a,e,r,s,u){A&&fe();var l=a,p=xe(),f=Ae,v=re,_,t,g,o=(p?V:ee)(void 0),h=(p?V:ee)(void 0),d=!1;function y(n,c){d=!0,c&&(G(m),H(m),ne(f));try{n===W&&r&&(_?q(_):_=z(()=>r(l))),n===j&&s&&(t?q(t):t=z(()=>s(l,o))),n!==W&&_&&U(_,()=>_=null),n!==j&&t&&U(t,()=>t=null),n!==$&&g&&U(g,()=>g=null)}finally{c&&(ne(null),H(null),G(null),Me())}}var m=de(()=>{if(v!==(v=e())){if(Ce(v)){var n=v;d=!1,n.then(c=>{n===v&&(O(o,c),y(j,!0))},c=>{if(n===v)throw O(h,c),y($,!0),h.v}),A?r&&(_=z(()=>r(l))):ke(()=>{d||y(W,!0)})}else O(o,v),y(j,!1);return()=>v=re}});A&&(l=S)}function ua(a,e){return e}function da(a,e,r,s){for(var u=[],l=e.length,p=0;p<l;p++)Ne(e[p].e,u,!0);var f=l>0&&u.length===0&&r!==null;if(f){var v=r.parentNode;ze(v),v.append(r),s.clear(),T(a,e[0].prev,e[l-1].next)}Re(u,()=>{for(var _=0;_<l;_++){var t=e[_];f||(s.delete(t.k),T(a,t.prev,t.next)),je(t.e,!f)}})}function fa(a,e,r,s,u,l=null){var p=a,f={flags:e,items:new Map,first:null};{var v=a;p=A?J(Ie(v)):v.appendChild(Te())}A&&fe();var _=null,t=!1,g=De(()=>{var o=r();return Ge(o)?o:o==null?[]:ve(o)});de(()=>{var o=C(g),h=o.length;if(t&&h===0)return;t=h===0;let d=!1;if(A){var y=p.data===Pe;y!==(h===0)&&(p=te(),J(p),Z(!1),d=!0)}if(A){for(var m=null,n,c=0;c<h;c++){if(S.nodeType===8&&S.data===Se){p=S,d=!0,Z(!1);break}var E=o[c],k=s(E,c);n=he(S,f,m,null,E,k,c,u,e,r),f.items.set(k,n),m=n}h>0&&J(te())}A||va(o,f,p,u,e,s,r),l!==null&&(h===0?_?q(_):_=z(()=>l(p)):_!==null&&U(_,()=>{_=null})),d&&Z(!0),C(g)}),A&&(p=S)}function va(a,e,r,s,u,l,p){var f=a.length,v=e.items,_=e.first,t=_,g,o=null,h=[],d=[],y,m,n,c;for(c=0;c<f;c+=1){if(y=a[c],m=l(y,c),n=v.get(m),n===void 0){var E=t?t.e.nodes_start:r;o=he(E,e,o,o===null?e.first:o.next,y,m,c,s,u,p),v.set(m,o),h=[],d=[],t=o.next;continue}if(_a(n,y,c),(n.e.f&K)!==0&&q(n.e),n!==t){if(g!==void 0&&g.has(n)){if(h.length<d.length){var k=d[0],i;o=k.prev;var b=h[0],w=h[h.length-1];for(i=0;i<h.length;i+=1)ce(h[i],k,r);for(i=0;i<d.length;i+=1)g.delete(d[i]);T(e,b.prev,w.next),T(e,o,b),T(e,w,k),t=k,o=w,c-=1,h=[],d=[]}else g.delete(n),ce(n,t,r),T(e,n.prev,n.next),T(e,n,o===null?e.first:o.next),T(e,o,n),o=n;continue}for(h=[],d=[];t!==null&&t.k!==m;)(t.e.f&K)===0&&(g??(g=new Set)).add(t),d.push(t),t=t.next;if(t===null)continue;n=t}h.push(n),o=n,t=n.next}if(t!==null||g!==void 0){for(var I=g===void 0?[]:ve(g);t!==null;)(t.e.f&K)===0&&I.push(t),t=t.next;var F=I.length;if(F>0){var be=f===0?r:null;da(e,I,be,v)}}X.first=e.first&&e.first.e,X.last=o&&o.e}function _a(a,e,r,s){O(a.v,e),a.i=r}function he(a,e,r,s,u,l,p,f,v,_){var t=(v&Oe)!==0,g=(v&Ue)===0,o=t?g?ee(u):V(u):u,h=(v&Le)===0?p:V(p),d={i:h,v:o,k:l,a:null,e:null,prev:r,next:s};try{return d.e=z(()=>f(a,o,h,_),A),d.e.prev=r&&r.e,d.e.next=s&&s.e,r===null?e.first=d:(r.next=d,r.e.next=d.e),s!==null&&(s.prev=d,s.e.prev=d.e),d}finally{}}function ce(a,e,r){for(var s=a.next?a.next.e.nodes_start:r,u=e?e.e.nodes_start:r,l=a.e.nodes_start;l!==s;){var p=He(l);u.before(l),l=p}}function T(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function pa(a){if(A){var e=!1,r=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var s=a.value;B(a,"value",null),a.value=s}if(a.hasAttribute("checked")){var u=a.checked;B(a,"checked",null),a.checked=u}}};a.__on_r=r,Ve(r),me()}}function B(a,e,r,s){var u=a.__attributes??(a.__attributes={});A&&(u[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||u[e]!==(u[e]=r)&&(e==="style"&&"__styles"in a&&(a.__styles={}),e==="loading"&&(a[qe]=r),r==null?a.removeAttribute(e):typeof r!="string"&&ma(a).includes(e)?a[e]=r:a.setAttribute(e,r))}var ue=new Map;function ma(a){var e=ue.get(a.nodeName);if(e)return e;ue.set(a.nodeName,e=[]);for(var r,s=a,u=Element.prototype;u!==s;){r=Fe(s);for(var l in r)r[l].set&&e.push(l);s=Be(s)}return e}function ha(a,e,r=e){la(a,"change",s=>{var u=s?a.defaultChecked:a.checked;r(u)}),(A&&a.defaultChecked!==a.checked||Ye(e)==null)&&r(a.checked),Je(()=>{var s=e();a.checked=!!s})}const ga=!0,za=Object.freeze(Object.defineProperty({__proto__:null,prerender:ga},Symbol.toStringTag,{value:"Module"}));class x{constructor(e,r){Y(this,"name","Ubicación");Y(this,"geo",[0,0]);this.name=e,this.geo=r}}const ba={CasaMigrante:new x("Casa del Migrante en Tijuana, AC",[32.522813,-117.001688]),MadreAsunta:new x("Instituto Madre Asunta, AC",[32.523438,-117.001437]),PuertaEsperanza:new x("Ejército de Salvación | Casa Puerta de Esperanza",[32.543563,-117.006563]),AlbergueEmigrantes:new x("Ejército de Salvación | Albergue para Emigrantes",[32.535313,-117.012438]),YMCAMenores:new x("Casas YMCA de Menores Migrantes",[32.513813,-117.021563]),EspacioMigrante:new x("Espacio Migrante",[32.538313,-117.034312]),JardinMariposas:new x("Jardín de las Mariposas",[32.520063,-117.064063]),PadreChava:new x('Desayunador Salesiano "Padre Chava"',[32.536812,-117.032187]),ConsuladoElSalvador:new x("Consulado de la República de El Salvador en Tijuana",[32.521687,-117.013437]),ConsuladoHonduras:new x("Consulado General de Honduras en Tijuana",[32.520313,-117.012687]),ConsuladoGuatemala:new x("Consulado General de Guatemala en Tijuana",[32.524812,-117.014188]),ConsuladoEstadosUnidos:new x("Consulado General de los Estados Unidos en Tijuana",[32.523313,-116.952438]),CEDH:new x("Comisión Estatal de los Derechos Humanos de Baja California en Tijuana",[32.504438,-116.951188]),CNDH:new x("Comisión Nacional de los Derechos Humanos, Sede Regional Tijuana",[32.521687,-117.008562])},ge={housing:["CasaMigrante","MadreAsunta","PuertaEsperanza","AlbergueEmigrantes","YMCAMenores","EspacioMigrante","JardinMariposas"],feeding:["PadreChava"],consulate:["ConsuladoElSalvador","ConsuladoHonduras","ConsuladoGuatemala","ConsuladoEstadosUnidos"],humanRights:["CEDH","CNDH"]};var ya=R('<main class="svelte-1wmcw9n"><div class="z-0 svelte-1wmcw9n"></div></main>');function Ea(a,e){_e(e,!1);const r=[32.522499,-117.046623];let s=ie(e,"markers",24,()=>[]),u=ie(e,"m_id",24,()=>[]),l,p=Ze(),f,v,_,t={},g,o={};for(const[i,b]of Object.entries(ge))b.forEach(w=>{o[w]=i});async function h(){const i=await L(()=>import("../chunks/r9KgTLRM.js").then(w=>w.l),[],import.meta.url),{Geolocation:b}=await L(async()=>{const{Geolocation:w}=await import("../chunks/DtkoMCPr.js").then(I=>I.i);return{Geolocation:w}},__vite__mapDeps([0,1,2]),import.meta.url);await d(),f=i.map(C(p),{center:r,zoom:12,maxBounds:[[32.532838,-117.134573],[32.571187,-116.688688],[32.184594,-116.683403],[32.280616,-116.524034]],maxBoundsViscosity:1}),i.tileLayer("/tiles/{z}/{x}/{y}.png",{maxZoom:15,minZoom:12,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',errorTileUrl:"/tiles/miss.png"}).addTo(f),_||(_=i.icon({iconUrl:"/house.png",iconSize:[30,30]})),t={housing:i.icon({iconUrl:"/house.png",iconSize:[30,30]}),feeding:i.icon({iconUrl:"/food.png",iconSize:[30,30]}),consulate:i.icon({iconUrl:"/consulate.png",iconSize:[30,30]}),humanRights:i.icon({iconUrl:"/rights.png",iconSize:[30,30]})},v||(v=i.icon({iconUrl:"/dot.png",iconSize:[50,50]})),await y(),g=await b.watchPosition({},n)}async function d(){if(g){const{Geolocation:i}=await L(async()=>{const{Geolocation:b}=await import("../chunks/DtkoMCPr.js").then(w=>w.i);return{Geolocation:b}},__vite__mapDeps([0,1,2]),import.meta.url);i.clearWatch({id:g})}f&&(f.removeLayer(l),f.remove()),l=void 0,v=void 0,g=void 0}async function y(){if(f){const i=await L(()=>import("../chunks/r9KgTLRM.js").then(b=>b.l),[],import.meta.url);s().forEach(b=>{const w=o[b.key],I=t[w]||t.housing,F=i.marker(b.geo,{icon:I}).addTo(f).bindPopup(b.name);u().push(F)})}}function m(){f&&u().forEach(i=>{f.removeLayer(i)})}async function n(i){!f||!i||(l?(console.log("Updated position to "+i.coords.latitude+","+i.coords.longitude),l.setLatLng([i.coords.latitude,i.coords.longitude])):(l=(await L(()=>import("../chunks/r9KgTLRM.js").then(w=>w.l),[],import.meta.url)).marker([i.coords.latitude,i.coords.longitude],{icon:v}).addTo(f),l.bindPopup("Ubicación actual"),f.setView([i.coords.latitude,i.coords.longitude],13)))}async function c(){m(),await y()}ta(h),sa(c),oa(d),na();var E=ya(),k=D(E);ea(k,i=>ae(p,i),()=>C(p)),M(E),N(a,E),pe()}function Q(a,e){ae(e,!C(e)),console.log("Cambiado")}var wa=R("<div>Cargando ...</div>"),xa=(a,e)=>{ae(e,!C(e))},Ca=R('<div class="flex items-center"><input type="checkbox" class="form-checkbox h-5 w-5 text-blue-500 border-none focus:ring-transparent focus:ring-offset-0 bg-gray-50 rounded-xs"> <label class="ml-2 pb-0.5 text-sm hover:cursor-pointer"> </label></div>'),ka=a=>a.stopPropagation(),Aa=R(`<div class="fixed inset-0 flex justify-center items-center z-[1000]" style="background-color: rgba(0,0,0,0.5)"><div class="bg-white rounded-xl p-6 w-11/12 max-w-md shadow-lg"><h2 class="text-xl font-bold mb-4">Acerca del proyecto</h2> <p class="text-gray-800 text-justify space-y-">Este proyecto nació al observar una necesidad urgente en las calles de Tijuana: personas migrantes buscando ayuda, orientación y un lugar seguro. 
                A partir de las necesidades observadas en Tijuana, surgió la idea de crear un mapa que no solo muestre ubicaciones, sino que muestre esfuerzos colectivos de la comunidad y conecte a las personas. <br> Esta herramienta ha sido construida con un enfoque comunitario, escuchando a quienes están migrando y colaborando con quienes ofrecen apoyo. 
                Es un gesto de solidaridad digital, hecho para acompañar, guiar y recordar que nadie camina solo. <br> <br></p> <div class="mt-4 text-sm text-gray-700 leading-relaxed"><strong>Referencias:</strong><br> OIM. (2024). Seguimiento de flujos de población migrante. <a href="https://mexico.iom.int/sites/g/files/tmzbdl1686/files/documents/2024-05/dtm-q1-2024-tijuana.pdf" class="text-blue-600 underline" target="_blank">Ver PDF</a><br> OIM. (2023). Directorio de servicios gratuitos para personas migrantes, refugiadas, desplazadas y retornadas en Tijuana. <a href="https://mexico.iom.int/sites/g/files/tmzbdl1686/files/documents/2023-12/ficha-de-servicios_tijuana_2023.10oim_acnur.pdf" class="text-blue-600 underline" target="_blank">Ver PDF</a><br> OIM. (2023). Mapa de servicios para personas refugiadas y migrantes en Tijuana. <a href="https://help.unhcr.org/wp-content/uploads/sites/22/pdf/MapaTijuana.pdf" class="text-blue-600 underline" target="_blank">Ver PDF</a></div> <button class="mt-6 bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700">Cerrar</button></div></div>`),Ma=R('<!> <div class="absolute bottom-6 right-4 min-w-2xs rounded-xl px-2 py-2 bg-gray-200 shadow-md"><button class="w-full cursor-pointer"><p class="text-center align-middle">Filtros</p></button> <div class="w-7/8 mx-auto mt-2 mb-1 space-y-0.5"></div></div> <div class="absolute top-4 right-4 z-[1000] pointer-events-auto"><button class="rounded-full bg-white shadow-md p-2 text-xl" aria-label="Acerca del proyecto">ℹ️</button></div> <!>',1);function Ra(a,e){_e(e,!0);const r=aa({housing:!0,feeding:!0,consulate:!0,humanRights:!0});let s=se(!1);const u={housing:"Albergues",feeding:"Alimentación",consulate:"Consulados",humanRights:"Derechos Humanos"};let l=se(!1);async function p(){let m={};for(let n in r)r[n]&&ge[n].forEach(c=>{m[c]||(m[c]={...ba[c],key:c})});return Object.values(m)}var f=Ma();Qe(m=>{We.title="Servicio de apoyo migrante"});var v=Ke(f);ca(v,p,m=>{var n=wa();N(m,n)},(m,n)=>{Ea(m,{get markers(){return C(n)}})});var _=P(v,2),t=D(_);t.__click=[xa,s];var g=P(t,2);fa(g,21,()=>Object.keys(r),ua,(m,n)=>{var c=Ca(),E=D(c);pa(E);var k=P(E,2),i=D(k,!0);M(k),M(c),oe(()=>{B(E,"id",C(n)),B(k,"for",C(n)),Xe(i,u[C(n)])}),ha(E,()=>r[C(n)],b=>r[C(n)]=b),N(m,c)}),M(g),M(_);var o=P(_,2),h=D(o);h.__click=[Q,l],M(o);var d=P(o,2);{var y=m=>{var n=Aa();n.__click=[Q,l];var c=D(n);c.__click=[ka];var E=P(D(c),6);E.__click=[Q,l],M(c),M(n),N(m,n)};ra(d,m=>{C(l)&&m(y)})}oe(()=>g.hidden=!C(s)),N(a,f),pe()}$e(["click"]);export{Ra as component,za as universal};
